#
# Copyright Kroxylicious Authors.
#
# Licensed under the Apache Software License version 2.0, available at http://www.apache.org/licenses/LICENSE-2.0
#

$schema: https://json-schema.org/draft-04/schema
id: kroxylicious-common.yaml
description: Common Kroxy types
definitions:
  FileReference:
    description: Indirection for a value defined in a separate file
    type: object
    properties:
      $file:
        description: The file
        type: string

  Duration:
    type: string
    pattern: "^([-+]?)P(?:([-+]?[0-9]+)D)?(T(?:([-+]?[0-9]+)H)?(?:([-+]?[0-9]+)M)?(?:([-+]?[0-9]+)(?:[.,]([0-9]{0,9}))?S)?)?$"

  SecretReference:
    description: A typed, versioned reference to a named secret
    type: object

  SecretFileReference:
    description: A typed, versioned reference to a named secret
    type: object
    properties:
      file:
        type: string

  SecretObjectReference:
    description: A typed, versioned reference to a named secret
    type: object
    required:
      - name
    properties:
      name:
        type: string



  ObjectReference:
    description: A typed, versioned reference to a named object of any kind
    type: object
    required:
      - name
    properties:
      kind:
        type: string
      apiVersion:
        type: string
      name:
        type: string

