#
# Copyright Kroxylicious Authors.
#
# Licensed under the Apache Software License version 2.0, available at http://www.apache.org/licenses/LICENSE-2.0
#

apiVersion: apps/v1
kind: Deployment
metadata:
  name: %NAME%
  labels:
    app: %NAME%
spec:
  replicas: 1
  selector:
    matchLabels:
      app: %NAME%
  template:
    metadata:
      labels:
        app: %NAME%
      name: %NAME%
      namespace: %NAMESPACE%
    spec:
      containers:
        - name: admin
          image: quay.io/strimzi-test-clients/test-clients:latest-kafka-%KAFKA_VERSION%
          command: [ "admin-client" ]
          args: [ "%ARGS%" ]
          securityContext:
            allowPrivilegeEscalation: false
            seccompProfile:
              type: RuntimeDefault
            capabilities:
              drop:
                - ALL
